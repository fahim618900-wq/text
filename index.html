<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Live Code IDE</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:#1e1e1e;
    color:white;
    display:flex;
    height:100vh;
}

/* Header */
header{
    height:50px;
    background:#111;
    display:flex;
    align-items:center;
    padding:0 10px;
    gap:10px;
    border-bottom:1px solid #333;
}

/* Menu button */
#menuBtn svg, #fullscreenBtn svg, #downloadBtn svg{
    width:24px;
    height:24px;
    fill:white;
    cursor:pointer;
}

/* Side menu */
#sideMenu{
    width:0;
    background:#151515;
    overflow:hidden;
    transition:0.3s;
    padding-top:60px;
    border-right:1px solid #333;
    position:relative;
}

#sideMenu.open{ width:220px; }
#sideMenu div{ padding:12px 20px; cursor:pointer; }
#sideMenu div:hover{ background:#222; }

/* Editor */
#editorBox{
    flex:1;
    display:flex;
    flex-direction:column;
}

#editor{
    flex:1;
    width:100%;
    background:#000;
    color:#0f0;
    border:none;
    outline:none;
    padding:10px;
    font-family:monospace;
    font-size:14px;
    resize:none;
    overflow-y:auto;
}

/* Read more box */
#readMoreBox{
    background:#000;
    padding:10px;
    color:#0f0;
    font-family:monospace;
    height:150px;
    overflow:hidden;
    position:relative;
}

#readMoreBtn{
    position:absolute;
    bottom:0;
    width:100%;
    text-align:center;
    background:#111;
    padding:5px 0;
    cursor:pointer;
    border-top:1px solid #333;
}

/* Output */
#iframeBox{
    width:50%;
    border-left:1px solid #333;
}
iframe{
    width:100%;
    height:100%;
    border:none;
}
</style>
</head>

<body>

<!-- Side Menu -->
<div id="sideMenu">
    <div onclick="newProject()">New Project</div>
    <div onclick="showProjects()">Show Projects</div>
    <div onclick="changeTheme()">Theme/Layout</div>
</div>

<div style="flex:1; display:flex; flex-direction:column;">

<!-- Header -->
<header>
    <!-- Menu Button -->
    <div id="menuBtn">
        <svg viewBox="0 0 24 24">
            <path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/>
        </svg>
    </div>

    <!-- Full Screen -->
    <div id="fullscreenBtn" onclick="openFullScreen()">
        <svg viewBox="0 0 24 24">
            <path d="M7 14H5v5h5v-2H7v-3zm0-4h2V7h3V5H7v5zm10 9h-3v2h5v-5h-2v3zm0-14v3h2V3h-5v2h3z"/>
        </svg>
    </div>

    <!-- Download -->
    <div id="downloadBtn" onclick="downloadCode()">
        <svg viewBox="0 0 24 24">
            <path d="M5 20h14v-2H5m7-14v8l3-3 1.41 1.41L12 18l-4.41-4.59L9 11l3 3V4h2z"/>
        </svg>
    </div>
</header>

<!-- Main Layout -->
<div style="flex:1; display:flex;">

    <!-- Editor Box -->
    <div id="editorBox">
        <textarea id="editor" placeholder="Write code here..."></textarea>
    </div>

    <!-- Output -->
    <div id="iframeBox">
        <iframe id="output"></iframe>
    </div>

</div>
</div>

<script>
// MENU OPEN/CLOSE
const sideMenu = document.getElementById("sideMenu");
document.getElementById("menuBtn").onclick = () => {
    sideMenu.classList.toggle("open");
};

// click outside closes menu
document.addEventListener("click", (e)=>{
    if(!sideMenu.contains(e.target) && !menuBtn.contains(e.target)){
        sideMenu.classList.remove("open");
    }
});

// Auto-save code
const editor = document.getElementById("editor");
editor.value = localStorage.getItem("savedCode") || "";

editor.addEventListener("input", ()=>{
    localStorage.setItem("savedCode", editor.value);
    runCode();
});

// Run code live
function runCode(){
    const iframe = document.getElementById("output");
    iframe.srcdoc = editor.value;
}
runCode();

// Full Screen
function openFullScreen(){
    localStorage.setItem("fullScreenCode", editor.value);
    window.location.href = "full_screen.html";
}

// Download Code
function downloadCode(){
    const blob = new Blob([editor.value], {type:"text/html"});
    const a = document.createElement("a");
    a.href = URL.createObjectURL(blob);
    a.download = "index.html";
    a.click();
}

// Menu Placeholder Functions
function newProject(){ alert("New Project Coming..."); }
function showProjects(){ alert("Projects Coming..."); }
function changeTheme(){ alert("Themes Coming..."); }
</script>

</body>
</html>
